// eslint import/no-extraneous-dependencies: ["error", {"devDependencies": true}]

// Load environment variables from .env file
require("dotenv").config();

// Import database client
const database = require("./database/client");

const insertRoles = async () => {
  return database.query(`
  INSERT INTO roles (role) VALUES
  ('user'),
  ('moderator'),
  ('administrator')
  `);
};

const insertUsers = async () => {
  return database.query(`
  INSERT INTO users (firstname, lastname, nickname, mail, birthdate, logdate, password, roles_id) VALUES
  ('Admin', 'istrator', 'Administrator', 'administrator@email.com', '2000-01-01', '2000-01-02', '$2b$10$4VWdZ7SANvRr7qn3k6LAEu6eGApGQUvPOqcCCmgzVLKNlSpBL0rGa', 3),
  ('Mode', 'rator', 'Moderator', 'moderator@email.com', '2010-01-01', '2010-01-02', '$2b$10$c4u.4Q1LzVQBKm.SKX2nPuWEZ/I3jiMUygxr.mMZK4MVJilKYX0rC', 2)
  `);
};

const insertCategories = async () => {
  return database.query(`
  INSERT INTO categories (title, description) VALUES
  ('Mer', 'Les vid√©os de Jamy sur la mer'),
  ('Animaux', 'Les vid√©os de Jamy sur les animaux'),
  ('L√©gendes', 'Les vid√©os de Jamy sur les l√©gendes'),
  ('Climat', 'Les vid√©os de Jamy sur le climat'),
  ('G√©ographie', 'Les vid√©os de Jamy sur la g√©ographie')
  `);
};

const insertVideos = async () => {
  return database.query(`
  INSERT INTO videos (link, title, description, is_free) VALUES
  ("https://www.youtube.com/watch?v=iXuTu2U9l9o", "Les requins sont-ils des s√©rial killers ? (Vous allez √™tre surpris)", "Les requins sont-ils des s√©rial killers ou des victimes de leur r√©putation ? Aujourd‚Äôhui, Jamy r√©tablit la v√©rit√© sur ces pr√©dateurs", false),
  ("https://www.youtube.com/watch?v=9MGGAZyq1Mw", "üåä Pourquoi la mer est-elle sal√©e ?", "üèñÔ∏è Qui va √† la plage cet √©t√© ? Apr√®s avoir vu cette vid√©o, si l‚Äôun de vos proches boit la tasse... vous saurez lui expliquer pourquoi la mer est sal√©e ! Et pourquoi elle n‚Äôa pas le m√™me go√ªt partout ü§ì", false),
  ("https://www.youtube.com/watch?v=fvrZrJhYGpA", "Pourquoi le niveau de la mer monte ?", "Pourquoi parle-t-on de la mont√©e des eaux ? La fonte de la banquise est-elle vraiment li√©e ? Quelles parties de la France seront touch√©es d‚Äôici 2050 ?", false),
  ("https://www.youtube.com/watch?v=b40htkjiAoI", "Comment se forment les mar√©es ? üåä", "Envie de conna√Ætre les mar√©es ¬´ sur le bout du Gois ¬ª ? C‚Äôest pas la mer √† boire ! Allez venez : direction la Vend√©e... sur l‚Äô√Æle de Noirmoutier pour comprendre Comment se forment les mar√©es ? üåä", false),
  ("https://www.youtube.com/watch?v=E1S1_Wqqkhk", "Triangle des Bermudes : myst√®re et disparition", "Le triangle des Bermudes : mythe ou r√©alit√© ? Jamy vous embarque pour un voyage aux fronti√®res du paranormal et de la science : nous allons tenter de r√©soudre ce myst√®re !", false),
  ("https://www.youtube.com/watch?v=LBb3HWtEL64", "Les animaux les plus DANGEREUX du monde", "Prenez votre courage √† deux mains, nous partons √† l‚Äôaventure en terre hostile ! Nous vous pr√©sentons notre #TOP5 des animaux les plus dangereux de la monde !", false),
  ("https://www.youtube.com/watch?v=bPT3rFalapc", "5 animaux quasi immortels | TOP 5", "R√©sistance jusqu‚Äô√† -273¬∞C, long√©vit√© accrue, r√©g√©n√©ration... Les animaux quasi immortels, √ßa existe ? Eh oui ! Voici un #TOP5 des animaux qui r√©sistent √† tout ! On vous pr√©sente le tardigrade, le ratel, la m√©duse ou Turritopsis Nutricula, la praire d‚ÄôIslande, la planaire.", false),
  ("https://www.youtube.com/watch?v=NeBKbJ-4TOA", "5 animaux avec des SUPER-POUVOIRS ü¶∏ | TOP 5", "Un poisson cracheur de feu ? üî•üêü Une pieuvre cam√©l√©on ? üêô Un l√©zard qui marche sur l‚Äôeau ? ü¶é Les animaux avec des super-pouvoirs, √ßa existe ? Eh oui ! Voici mon #TOP5 des animaux avec des super-pouvoirs.", false),
  ("https://www.youtube.com/watch?v=71isRf1N2wo", "Le moustique est-il utile ?", "Exterminer les moustiques et plus largement les insectes, bonne id√©e ? Il est temps de changer notre regard sur les insectes ! Aujourd‚Äôhui dans #chezjamy on s‚Äôattaque aux r√¥les cl√©s des insectes dans l‚Äô√©quilibre de notre biodiversit√© !", false),
  ("https://www.youtube.com/watch?v=Pript1xTdl0", " 7 r√©ponses sur les animaux ‚Ä¢ FAQ #DisJamy", "Vous m‚Äôavez pos√© de nombreuses questions sur les animaux üê¥  Comme je suis √† cheval sur le lien qui nous unit... je les ai r√©unies ici ü§ì", false),
  ("https://www.youtube.com/watch?v=uS_FdlQTzDY", "3 MONSTRES DE L√âGENDE : mythes ou histoires vraies ?", "Le monstre du Loch Ness, le Y√©ti ou encore le Kraken... Des cr√©atures devenues populaires gr√¢ce aux myst√®res qui les entourent. D√©couvrons ensemble la v√©rit√© qui se cache derri√®re ses mythes üîéüòâ", false),
  ("https://www.youtube.com/watch?v=HqsP6U9FouY", "Comment estimer l‚Äô√¢ge des DINOSAURES ? ü¶ï", "ü¶¥ OSerez-vous me suivre parmi ces dinosaures dans #ChezJamy ? J‚Äôai eu la chance de rentrer au Mus√©um national d‚ÄôHistoire naturelle ü§ì Voici donc comment estimer l‚Äô√¢ge des dinosaures.", false),
  ("https://www.youtube.com/watch?v=Q9yIutVqMwk", "√éle de P√¢ques : le myst√®re des statues g√©antes enfin r√©solu ?", "Comment sont-elles arriv√©es l√† ? Qui les a taill√©es ? Comment ont-elles √©t√© transport√©es ? Aujourd‚Äôhui Jamy perce le myst√®re ! ", false),
  ("https://www.youtube.com/watch?v=JF0C_2Mxk7k", "Les gaulois ressemblaient-ils √† Ast√©rix et Ob√©lix ?", "√âtaient-ils aussi indisciplin√©s qu‚Äôon le pr√©tend, analphab√®tes et bagarreurs? ", false),
  ("https://www.youtube.com/watch?v=ux2JuPglPhU", "ü•á La dr√¥le d‚Äôhistoire des JO (Jeux Olympiques)", "ü•á De l‚ÄôAntiquit√© √† Tokyo, en passant par Paris ou encore Chamonix, je vous raconte l‚Äôhistoire ¬´ or ¬ª du commun des J.O. Vous √™tes pr√™ts ? Dans les starting blocks ? C‚Äôest parti üèÉü§ì", false),
  ("https://www.youtube.com/watch?v=OBCH6rfPvnA", "5 choses √† savoir sur les tornades, les typhons, les temp√™tes et les cyclones ?", "Savez-vous comment les temp√™tes se forment ? Pourquoi ont-elles des pr√©noms ?", false),
  ("https://www.youtube.com/watch?v=n7-9hIcxm6s", "5 Catastrophes naturelles qui pourraient vraiment nous arriver", "Dignes de certains films catastrophes, voici un #top5 des catastrophes naturelles qui pourraient vraiment se produire : √©ruptions solaires, supervolcans, m√©gatsunami üåäüåäüåä... ü§ì", false),
  ("https://www.youtube.com/watch?v=SnhpVGLErEQ", "C‚Äôest pas sorcier -INONDATIONS : sorciers prennent l‚Äôeau", "En France, environ deux millions de personnes sont expos√©es √† un risque d‚Äôinondation.", false),
  ("https://www.youtube.com/watch?v=YEmPmCEqEqE", "ORAGES : Les sorciers ont le coup de foudre", "Chaque ann√©e en France, les orages font  d‚Äôimportants d√©g√¢ts et environ une dizaine de personnes sont victimes de la foudre.", false),
  ("https://www.youtube.com/watch?v=4ZN_6cKyO-Q", "La mer attaque la terre", "Les communes du littoral fran√ßais sont de plus en plus menac√©es par l‚Äô√©rosion marine.", false),
  ("https://www.youtube.com/watch?v=e1i4KGI5Ag0", "La Camargue", "Fred, Jamy et Sabine sont partis √† la d√©couverte de la Camargue.", false),
  ("https://www.youtube.com/watch?v=Sg4zYbaFYwE", "L‚Äôascension du Mont-Blanc", "Fred et Jamy prennent la direction de Chamonix pour faire l‚Äôascension du Mont-Blanc.", false),
  ("https://www.youtube.com/watch?v=8PMYjn838FA", "La R√©union; dans les entrailles du volcan", "Comment l‚Äô√Æle de la R√©union est-elle sortie de l‚ÄôOc√©an Indien il y a 3 millions d‚Äôann√©es ?", false),
  ("https://www.youtube.com/watch?v=7VYel9qtZ1w", "Le myst√®re des grottes de l‚ÄôArd√®che", "Les grottes sont intimement li√©es √† l‚Äôhistoire de nos rivi√®res", false),
  ("https://www.youtube.com/watch?v=HmGe2B8YQj0", "L‚ÄôIslande : une √Æle qui souffle le chaud et le froid", "L‚ÄôIslande se situe √† quelques encablures du cercle polaire. Reykjavik est la capitale la plus au nord de la plan√®te.", false)
  `);
};

const insertPlaylists = async () => {
  return database.query(`
  INSERT INTO playlists (title, description) VALUES
  ('Mer', 'Les vid√©os de Jamy sur la mer'),
  ('Animaux', 'Les vid√©os de Jamy sur les animaux'),
  ('L√©gendes', 'Les vid√©os de Jamy sur les l√©gendes'),
  ('Climat', 'Les vid√©os de Jamy sur le climat'),
  ('G√©ographie', 'Les vid√©os de Jamy sur la g√©ographie')
  `);
};

const insertPlaylistsVideos = async () => {
  return database.query(`
  INSERT INTO playlists_videos (playlists_id, videos_id) VALUES
  (1, 1),
  (1, 2),
  (1, 3),
  (1, 4),
  (1, 5),
  (2, 6),
  (2, 7),
  (2, 8),
  (2, 9),
  (2, 10),
  (3, 11),
  (3, 12),
  (3, 13),
  (3, 14),
  (3, 15),
  (4, 16),
  (4, 17),
  (4, 18),
  (4, 19),
  (4, 20),
  (5, 21),
  (5, 22),
  (5, 23),
  (5, 24),
  (5, 25)
  `);
};

const insertCategoriesPlaylists = async () => {
  return database.query(`
  INSERT INTO categories_playlists_videos (categories_id, playlists_id) VALUES
  (1, 1),
  (2, 2),
  (3, 3),
  (4, 4),
  (5, 5)
  `);
};

const insertComments = async () => {
  return database.query(`
  INSERT INTO comments (users_id, videos_id, postDate, content) VALUES
  (1, 1, '2015-01-01', 'Super vid√©o 1 sign√© Admin'),
  (1, 2, '2015-01-02', 'Super vid√©o 2 sign√© Admin'),
  (1, 3, '2015-02-03', 'Super vid√©o 3 sign√© Admin'),
  (1, 4, '2015-02-04', 'Super vid√©o 4 sign√© Admin'),
  (1, 5, '2015-03-05', 'Super vid√©o 5 sign√© Admin'),
  (1, 6, '2016-03-06', 'Super vid√©o 6 sign√© Admin'),
  (1, 7, '2016-04-07', 'Super vid√©o 7 sign√© Admin'),
  (1, 8, '2016-04-08', 'Super vid√©o 8 sign√© Admin'),
  (1, 9, '2016-05-09', 'Super vid√©o 9 sign√© Admin'),
  (1, 10, '2016-05-10', 'Super vid√©o 10 sign√© Admin'),
  (2, 11, '2017-06-11', 'Super vid√©o 11 sign√© Modo'),
  (2, 12, '2017-06-12', 'Super vid√©o 12 sign√© Modo'),
  (2, 13, '2017-07-13', 'Super vid√©o 13 sign√© Modo'),
  (2, 14, '2017-07-14', 'Super vid√©o 14 sign√© Modo'),
  (2, 15, '2017-08-15', 'Super vid√©o 15 sign√© Modo'),
  (2, 16, '2018-08-16', 'Super vid√©o 16 sign√© Modo'),
  (2, 17, '2018-09-17', 'Super vid√©o 17 sign√© Modo'),
  (2, 18, '2018-09-18', 'Super vid√©o 18 sign√© Modo'),
  (2, 19, '2018-10-19', 'Super vid√©o 19 sign√© Modo'),
  (2, 20, '2018-10-20', 'Super vid√©o 20 sign√© Modo'),
  (1, 21, '2019-11-21', 'Super vid√©o 21 sign√© Admin'),
  (1, 22, '2019-11-22', 'Super vid√©o 22 sign√© Admin'),
  (1, 23, '2019-12-23', 'Super vid√©o 23 sign√© Admin'),
  (1, 24, '2019-12-24', 'Super vid√©o 24 sign√© Admin'),
  (1, 25, '2019-01-25', 'Super vid√©o 25 sign√© Admin')
  `);
};

const seed = async () => {
  try {
    // Utilisation de transactions
    await database.query("START TRANSACTION");

    // Appels aux fonctions d'insertion

    await insertRoles();
    await insertUsers();
    await insertCategories();
    await insertVideos();
    await insertPlaylists();
    await insertPlaylistsVideos();
    await insertCategoriesPlaylists();
    await insertComments();

    // Commit de la transaction
    await database.query("COMMIT");

    // Fermeture de la connexion √† la base de donn√©es
    database.end();

    console.info(`${database.databaseName} filled from ${__filename} üå±`);
  } catch (err) {
    // Rollback en cas d'erreur
    await database.query("ROLLBACK");
    console.error("Error filling the database:", err.message);
  }
};

// Ex√©cution de la fonction seed
seed();
